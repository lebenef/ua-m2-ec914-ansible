# Sudo

Lorsque l’on exporte une clé ssh afin de se connecter automatiquement à une machine distante, lors de l’utilisation des commande sudo il est nécessaire de saisir le mots de passe sudo. Il est possible d’ajouter dans le clé publique du client au serveur en temps que root pour permettre l’utilisation des commande sudo sans  mot de passe, Cependant cette technique n’est pas conventionnelle.


# Ansible

## Playbook

Un playbook est un script écris en YAML qui permet de configurer un serveur.
Il décrit les tâches que Ansible doit acomplir sur le seveur.

## Role

Un role est un playbook structurer pour répondre a une utilisation plus large et réutilisable.

# Configuration du serveur Ansible

## Création clé ssh

On crée une clé ssh afin de pouvoir se connecter sans mot de passe à notre serveur cible.
```ssh-keygen -t rsa``

Puis on copy la clé fraichement créée sur notre serveur cible.
```ssh-copy-id -i ~.ssh/key.pub user@host```

## Installation

Pour installer Ansible on utlise la commande.
```sudo apt-get install ansible```

## Configuration Hosts
Le fichier Hosts permet de renseigné tout les machines  qu' Ansible doit gérer, il n'est pas possible de déployer sur une machines si son nom ou son adresse ip n'est pas renseigné.
Il faut donc renseigner l'adresse ip de la machine que l'on va utiliser pour recevoir le déploiement
de Ansible.

```/etc/ansible/hosts```

Une fois ceci fait on teste que ansible communique bien avec les serveur cible.
```ansible all -m ping```

# Créarion d'un role 

## 
